{% extends 'base.html' %}

{% block title %}零抽成开发外包平台 - 平台介绍{% endblock %}

{% block content %}
<div class="main-content">
    <h1>开发者列表</h1>
    <p>注册用户总数: {{ user_count }}</p>
    <table>
        <thead>
            <tr>
                <th>用户名</th>
                <th>称呼名</th>{# 添加称呼名表头 #}
                <th>注册日期</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.username }}</td>
                <td>{{ user.callname or user.username }}</td>{# 显示称呼名，如果为空则显示用户名 #}
                <td>{{ user.created_at.strftime('%Y-%m-%d %H:%m') }}</td>
                <td><a href="/view_user/{{ user.id }}">详情</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<script>
    // render frontend js users_this from backend Jinja users_data
    let users_this = JSON.parse('{{ users_data | tojson }}');
</script>
{% endblock %}
